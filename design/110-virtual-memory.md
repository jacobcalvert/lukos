# LuKOS Kernel Functions - Virtual Memory
The virtual memory management capability provided by the kernel is implemented as a Virtual Memory Manager (VMM). The VMM will manage the MMU translation entries for all processes and will be able to translate virtual-to-physical (V2P) and physical-to-virtual (P2V) addresses. 

## Tranlation Management
### Kernel Calls
```
/**
 * translate a virtual address to a physical one
 * @param virtaddr		the virtual address
 * @return the physical address represented by this virtual address in this context or NULL if not mapped
 */
 void *vmm_v2p(void* virtaddr);


/**
 * translate a physical address to a virtual one
 * @param physaddr		the physical address
 * @return the virtual address mapped to the given physical address in this context or NULL if not mapped
 */
 void *vmm_p2v(void* physaddr);
 

```

## Dynamic Memory (Heap) Management
The kernel will provide a mechanism to request a single or multiple pages of heap memory and to apply various attributes to it. 
### Kernel Calls
```
 /**
  *  
  * get some heap pages in your address space with the given attributes
  * @param pages		the number of pages to map
  * @param attr 		the attributes to apply
  * @param rc			the return code
  * @return pointer to virtual address of new heap space or NULL on failure (see return code)
  */
  void* vmm_heap_alloc(size_t pages, vmm_mem_attr_t attr, int *rc); 
```
## Shared Memory Management
The kernel will provide a mechanism to share memory with other contexts.
### Kernel Calls
```
	/**
	 * share a block of memory via a shmem key. function returns a shmem key generated by the kernel for this region
	 * @param virtbase		the base of virtual memory to share
	 * @param len			the length of the block to share
	 * @param attr			the attributes to apply to this share
	 * @return 	a key uniquely identifying this share
	 */
	vmm_shmem_key_t vmm_shmem_share(void* virtbase, size_t len, vmm_mem_attr_t attr);
	
	/**
	 * map a regions of shared memory into our address space
	 * @param key 		the shared memory key
	 * @param len		the length of the region returned
	 * @param rc		the return code
	 * @return	a virtual address in our address space if successful, or NULL if not successfull (see rc)
	 */
	void* vmm_shmem_map(vmm_shmem_key_t key, size_t *len, int *rc);


```

## 
